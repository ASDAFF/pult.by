"use strict";function BitrixSmallCart(){}BitrixSmallCart.prototype={activate:function(){this.cartElement=BX(this.cartId),this.setCartBodyClosure=this.closure("setCartBody"),BX.addCustomEvent(window,"OnBasketChange",this.closure("refreshCart",{})),this.eventBS()},closure:function(a,b){var c=this;return b?function(){c[a](b)}:function(b){c[a](b)}},eventBS:function(){var a=this;$(document).on("click.bs.dropdown.data-api","#"+a.cartId+" .dropdown-menu",function(a){a.stopPropagation()}).on("shown.bs.dropdown","#"+a.cartId,function(a){jScrollPane()})},refreshCart:function(a){return this.itemRemoved?void(this.itemRemoved=!1):(a.sessid=BX.bitrix_sessid(),a.siteId=this.siteId,a.templateName=this.templateName,a.arParams=this.arParams,void BX.ajax({url:this.ajaxPath,method:"POST",dataType:"html",data:a,onsuccess:this.setCartBodyClosure}))},setCartBody:function(a){this.cartElement&&(this.cartElement.innerHTML=a),jScrollPane()},removeItemFromCart:function(a){var b=new Loader;b.add("#"+this.cartId+" .bx-basket-item-list-container"),this.refreshCart({sbblRemoveItemFromCart:a}),this.itemRemoved=!0,BX.onCustomEvent("OnBasketChange")}};